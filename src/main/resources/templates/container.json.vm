{
  "name": "${name}",
  "ports": [
#foreach ($port in $ports)
    #if($velocityCount != 1)
      ,
    #end
{
  "containerPort": ${port.number},
  "protocol": "${port.protocol.toString()}",
  "name": "${port.name}"
}
#end
  ],
    #if (${args})
    "args":[
        #foreach ($arg in $args)
            #if($velocityCount != 1)
            , #end
        "$arg"
        #end
    ],
    #end
  "env": [
    {
      "name": "POD_NAME",
      "valueFrom": {
        "fieldRef": {
          "apiVersion": "v1",
          "fieldPath": "metadata.name"
        }
      }
    },
    {
      "name": "POD_NAMESPACE",
      "valueFrom": {
        "fieldRef": {
          "apiVersion": "v1",
          "fieldPath": "metadata.namespace"
        }
      }
    }
      #foreach ($var  in $env.entrySet())
      ,
        {
          "name": "$var.key",
          "value": "$var.value"
        }
      #end
  ],
  "resources": {
    "limits": {
      "cpu": "${deploy.resources.cpu.max}",
      "memory": "${deploy.resources.memory.max}"
    },
    "requests": {
      "cpu": "${deploy.resources.cpu.min}",
      "memory": "${deploy.resources.memory.min}"
    }
  },
  "volumeMounts": [
      #if (${mounts})
          #foreach ($mount in $mounts)
            {
              "name": "${mount.mountName}",
              "mountPath": "${mount.path}"
            },
          #end
      #end
    {
      "name": "application-log-volume",
      "mountPath": "/u01/logs"
    }
  ],
  "terminationMessagePath": "/dev/termination-log",
  "imagePullPolicy": "IfNotPresent",
  "capabilities": {
  },
  "securityContext": {
    "capabilities": {
    },
    "privileged": false
  }
#if (${deploy.liveness})
, "livenessProbe": {
    #if(${deploy.liveness.path} && "$!{deploy.liveness.path}" != "")
    "httpGet": {
      "path": "${deploy.liveness.path}",
    #else
    "tcpSocket": {
    #end
  "port": ${deploy.liveness.port}
},
  "initialDelaySeconds": ${deploy.liveness.delay},
  "timeoutSeconds": ${deploy.liveness.timeout}
}
#end
#if (${deploy.readiness})
,"readinessProbe": {
    #if(${deploy.readiness.path} && "$!{deploy.readiness.path}" != "")
    "httpGet": {
      "path": "${deploy.readiness.path}",
    #else
    "tcpSocket": {
    #end
  "port": ${deploy.readiness.port}
},
  "initialDelaySeconds": ${deploy.readiness.delay},
  "timeoutSeconds": ${deploy.readiness.timeout}
}
#end
},
